<html>
    <head>
        <title>GEO-SCRIPT</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div class="frame">
            <form method="POST" id="ajaxform" onsubmit="return false;" action="http://air2.yaroslav-samoylov.com/lead/add/">
                <input type="text" name="name" placeholder="Введите имя*" value="" data-required="true" data-type="1">
                <input type="email" name="email" placeholder="Введите E-mail*" value="" data-required="true" data-type="3">
                <input type="tel" id="phone" name="phone" placeholder="Введите телефон*" value="" data-required="true" data-type="4">
                <input type="hidden" name="id" value="489">
                <input type="hidden" name="country_rus" id="geo" value="NULL" data-geo="true">
                <input type="hidden" name="city_rus" id="city" value="NULL" data-geo="true">
                <input type="submit" value="Записаться" class="request-caller">
            </form>
        </div>
        <script src="js/detector.js"></script>
        <script src="js/setter.js"></script>
        <script src="js/basic-functions.js"></script>
        <script src="js/validation.js"></script>
        <script src="js/request.js"></script>
        <script src="js/auto-complementer.js"></script>
        <script src="js/restorer.js"></script>
        <script src="js/spinner.js"></script>
        <link property="stylesheet" rel="stylesheet" href="css/spinner.css">
        <link property="stylesheet" rel="stylesheet" href="css/validation.css">
        <script type="text/javascript">
            window.onload = function() {
                "use strict";
                //Определение гео-данных и установка значений для гео-полей;
                var detector = new Detector();
                detector.detect(document.forms[0]);
                //Инициализация авто-дополнителя телефонных номеров;
                var autoComplementer = new AutoComplementer();
                autoComplementer.create(document.forms[0].phone, detector.getGeoData());
                //Подключение обработчика для AJAX-отправки;
                var requestObject = new Request();
                requestObject.appendHandler(document.getElementsByClassName("request-caller")[0]);
                requestObject.clearTextFields();
                //Восстановление введённых пользователем данных;
                var restorer = new Restorer();
                restorer.setForm(document.forms[0]);
                restorer.execute();
            };
        </script>
    </body>
</html>
